fileFormatVersion: 2
guid: 95daf531d8b51ff43baa76c185c99d19
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: 11500000, guid: 22604dd76f55453daccee3ed9e7b94b5, type: 3}
  SerializedAsset: '{"IsCompiled":true,"CompilerVersion":"2.0.63","ReferencedSpecifiers":["@assets/Experience/GeniesScripts/GameManager"],"Source":"\"use
    strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst
    UnityEngine_1 = require(\"UnityEngine\");\nconst GameManager_1 = require(\"@assets/Experience/GeniesScripts/GameManager\");\nclass
    TimeManager extends UnityEngine_1.MonoBehaviour {\n    constructor() {\n       
    super(...arguments);\n        this.isCounting = false;\n    }\n    Awake() {\n       
    //Establishes the GameManager singleton instance\n        if (TimeManager.Instance
    == null) {\n            TimeManager.Instance = this;\n        }\n        else
    {\n            TimeManager.Destroy(this.gameObject);\n        }\n    }\n    Start()
    {\n        //Get GameManager singleton and add a listener to OnGameStateChange
    event\n        this.gameManager = GameManager_1.default.Instance;\n    }\n   
    SetSongDuration(seconds) {\n        this.songDuration = seconds;\n        this.remainingTime
    = this.songDuration;\n        this.isCounting = true;\n        this.UpdateTimeText();\n       
    this.StartCoroutine(this.UpdateTimer());\n    }\n    *UpdateTimer() {\n       
    while (this.isCounting && this.remainingTime > 0) {\n            this.remainingTime
    -= 1;\n            this.UpdateTimeText();\n            yield new UnityEngine_1.WaitForSeconds(1);\n       
    }\n        if (this.remainingTime <= 0) {\n            this.isCounting = false;\n           
    this.remainingTimeText = this.GetTimeTextPlaceholder();\n            this.gameManager.ChangeGameState(GameManager_1.GameState.GAME_WIN);\n           
    this.StopAllCoroutines();\n        }\n    }\n    UpdateTimeText() {\n       
    let minutes = Math.floor(this.remainingTime / 60);\n        let seconds = Math.floor(this.remainingTime
    % 60);\n        this.remainingTimeText = `${minutes}:${seconds.toString().padStart(2,
    ''0'')}`;\n    }\n    GetRemainingTimeText() {\n        return this.remainingTimeText;\n   
    }\n    GetTimeTextPlaceholder() {\n        return \"00:00\";\n    }\n}\nexports.default
    = TimeManager;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGltZU1hbmFnZXIuanMiLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBeUQ7QUFDekQsOEVBQXNEO0FBQ3RELE1BQXFCLFdBQVksU0FBUSwyQkFBYTtJQUF0RDs7UUFVWSxlQUFVLEdBQVksS0FBSztJQW9EdkM7SUFsRFksS0FBSztRQUNULGdEQUErQztRQUMvQyxJQUFHLFdBQVcsQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFFO1lBQzdCLFdBQVcsQ0FBQyxRQUFRLEdBQUcsSUFBSTtRQUMvQixDQUFDO2FBQUk7WUFDRCxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDeEM7SUFDSjtJQUVRLEtBQUs7UUFDVCx5RUFBd0U7UUFDeEUsSUFBSSxDQUFDLFdBQVcsR0FBRyxxQkFBVyxDQUFDLFFBQVE7SUFDM0M7SUFFTyxlQUFlLENBQUMsT0FBYztRQUNqQyxJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU87UUFDM0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsWUFBWTtRQUN0QyxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUk7UUFDdEIsSUFBSSxDQUFDLGNBQWMsRUFBRTtRQUNyQixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUMzQztJQUVRLENBQUMsV0FBVztRQUNoQixPQUFPLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLEVBQUU7WUFDOUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxjQUFjLEVBQUU7WUFDckIsTUFBTSxJQUFJLDRCQUFjLENBQUMsQ0FBQyxDQUFDO1FBQy9CO1FBRUEsSUFBSSxJQUFJLENBQUMsYUFBYSxJQUFJLENBQUMsRUFBRTtZQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUs7WUFDdkIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxzQkFBc0IsRUFBRTtZQUN0RCxJQUFJLENBQUMsV0FBVyxDQUFDLGVBQWUsQ0FBQyx1QkFBUyxDQUFDLFFBQVEsQ0FBQztZQUNwRCxJQUFJLENBQUMsaUJBQWlCLEVBQUU7UUFDNUI7SUFDSjtJQUVRLGNBQWM7UUFDbEIsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztRQUNqRCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxhQUFhLEdBQUcsRUFBRSxDQUFDO1FBQ2pELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRTtJQUNoRjtJQUVPLG9CQUFvQjtRQUN2QixPQUFPLElBQUksQ0FBQyxpQkFBaUI7SUFDakM7SUFFUSxzQkFBc0I7UUFDMUIsT0FBTyxPQUFPO0lBQ2xCO0NBQ0o7QUE5REEsOEJBOERBIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJUaW1lTWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6W251bGxdfQ==","ScriptHash":"0800bebb9d0712242cde037a501aaa5d","Specifier":"@assets/Experience/GeniesScripts/TimeManager","DefaultTypeName":"@assets/Experience/GeniesScripts/TimeManager.TimeManager","IsMonobehaviour":true,"IsScriptableObj":false,"InheritanceChain":["@assets/Experience/GeniesScripts/TimeManager.TimeManager","UnityEngine.MonoBehaviour","UnityEngine.Behaviour","UnityEngine.Component","UnityEngine.Object","@com.genies.scripting@1.11.0\\Runtime\\Typing\\index.d.System.Object"],"Properties":[],"SupportedUiEvents":"None","DisplayName":"TimeManager","name":"TimeManager","hideFlags":"NotEditable"}'
