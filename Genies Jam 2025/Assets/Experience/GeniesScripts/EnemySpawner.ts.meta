fileFormatVersion: 2
guid: 409fee7ed8c54894490c33f3f86f34ca
ScriptedImporter:
  internalIDToNameTable: []
  externalObjects: {}
  serializedVersion: 2
  userData: 
  assetBundleName: 
  assetBundleVariant: 
  script: {fileID: 11500000, guid: 22604dd76f55453daccee3ed9e7b94b5, type: 3}
  SerializedAsset: '{"IsCompiled":true,"CompilerVersion":"2.0.9","ReferencedSpecifiers":["@assets/Experience/GeniesScripts/GameManager","@assets/Experience/GeniesScripts/EnemyManager","@assets/Experience/GeniesScripts/Enums/EnemyState","@assets/Experience/GeniesScripts/PlayerController"],"Source":"\"use
    strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst
    UnityEngine_1 = require(\"UnityEngine\");\nconst GameManager_1 = require(\"@assets/Experience/GeniesScripts/GameManager\");\nclass
    EnemySpawner extends UnityEngine_1.MonoBehaviour {\n    constructor() {\n       
    super(...arguments);\n        this.globalSpeed = 20;\n        this.xRange = 3;\n       
    this.enemySpawnDelay = 1;\n        this.enemyQueue = [];\n    }\n    Start()
    {\n        //Get GameManager singleton and add a listener to OnGameStateChange
    event\n        this.gameManager = GameManager_1.default.Instance;\n        this.gameManager.OnGameStateChange.addListener(this.CheckGameState,
    //@ts-ignore\n        this);\n        this.playerController.OnMoveStateChange.addListener(this.CheckMoveState,
    //@ts-ignore\n        this);\n        //Spawn the pool of enemies\n        //this.SpawnPool();\n   
    }\n    /** Manages the enemy logic when the game state changes. @param newState
    */\n    CheckGameState(newState) {\n        switch (newState) {\n           
    case GameManager_1.GameState.GAME_PLAY:\n                this.OnGamePlay();\n               
    break;\n        }\n    }\n    /** This will manage the enemies once the game
    starts. */\n    OnGamePlay() {\n        this.coroutine = this.StartCoroutine(this.SpawnEnemies());\n   
    }\n    *SpawnEnemies() {\n        while (true) {\n            yield new UnityEngine_1.WaitForSeconds(this.enemySpawnDelay);\n           
    let enemy = UnityEngine_1.Object.Instantiate(this.enemyPrefab);\n           
    const myEnemyManager = // @ts-ignore\n             enemy.GetComponent(\"@assets/Experience/GeniesScripts/EnemyManager.EnemyManager\");\n           
    let x = UnityEngine_1.Mathf.Floor(// @ts-ignore\n            UnityEngine_1.Random.Range_EBB7509C_H1075CF37(-this.xRange,
    this.xRange));\n            myEnemyManager.InitialConfigEnemy(this.globalSpeed,
    x);\n            this.enemyQueue.push(myEnemyManager);\n        }\n    }\n   
    CheckMoveState(newState) {\n        let peekFirstEnemy = this.enemyQueue[0];\n       
    if (peekFirstEnemy.IsState(newState)) {\n            let dequeuedEnemy = this.enemyQueue.shift();\n           
    UnityEngine_1.Object.DestroyImmediate(dequeuedEnemy.gameObject);\n           
    console.log(\"EL ESTADO COINCIDE HAY QUE MATARLO\");\n        }\n    }\n}\nexports.default
    = EnemySpawner;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW5lbXlTcGF3bmVyLmpzIiwibWFwcGluZ3MiOiI7O0FBQ0EsNkNBQXVHO0FBQ3ZHLDhFQUFzRDtBQU10RCxNQUFxQixZQUFhLFNBQVEsMkJBQWE7SUFBdkQ7O1FBTVksZ0JBQVcsR0FBVSxFQUFFLENBQUM7UUFDeEIsV0FBTSxHQUFVLENBQUMsQ0FBQztRQUNsQixvQkFBZSxHQUFVLENBQUMsQ0FBQztRQVEzQixlQUFVLEdBQW1CLEVBQUU7SUFpRDNDO0lBaERZLEtBQUs7UUFDVCx5RUFBd0U7UUFDeEUsSUFBSSxDQUFDLFdBQVcsR0FBRyxxQkFBVyxDQUFDLFFBQVE7UUFDdkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWE7WUFBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLGNBQWE7WUFBQyxDQUFDO1FBQ3hFLDJCQUEwQjtRQUMxQixtQkFBa0I7SUFDdEI7SUFFQSwyRUFBMEU7SUFDbEUsY0FBYyxDQUFDLFFBQW1CO1FBQ3RDLFFBQU8sUUFBUSxFQUFFO1lBQ2IsS0FBSyx1QkFBUyxDQUFDLFNBQVM7Z0JBQ3BCLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ2pCLE1BQUs7UUFDYjtJQUNKO0lBRUEseURBQXdEO0lBQ2hELFVBQVU7UUFDZCxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO0lBQzdEO0lBRVEsQ0FBQyxZQUFZO1FBQ2pCLE9BQU0sSUFBSSxFQUFFO1lBQ1IsTUFBTSxJQUFJLDRCQUFjLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUU5QyxJQUFJLEtBQUssR0FBSSxvQkFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFlO1lBRS9ELE1BQU0sY0FBYyxHQUFFO2FBQUMsS0FBSyxDQUFDLFlBQVcsNkRBQWEsQ0FBSTtZQUV6RCxJQUFJLENBQUMsR0FBRyxtQkFBSyxDQUFDLEtBQUs7WUFBQyxvQkFBTSxDQUFDLHdCQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM1RCxjQUFjLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUM7WUFFckQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBQ3hDO0lBQ0o7SUFFUSxjQUFjLENBQUMsUUFBb0I7UUFFdkMsSUFBSSxjQUFjLEdBQWdCLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBRXBELElBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBQztZQUNoQyxJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRTtZQUMzQyxvQkFBTSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUM7WUFDakQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxvQ0FBb0MsQ0FBQztRQUNyRDtJQUNKO0NBQ0o7QUFqRUEsK0JBaUVBIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJFbmVteVNwYXduZXIudHMiXSwic291cmNlc0NvbnRlbnQiOltudWxsXX0=","ScriptHash":"7bfbddc2218a118a662784cbefa23594","Specifier":"@assets/Experience/GeniesScripts/EnemySpawner","DefaultTypeName":"@assets/Experience/GeniesScripts/EnemySpawner.EnemySpawner","IsMonobehaviour":true,"IsScriptableObj":false,"InheritanceChain":["@assets/Experience/GeniesScripts/EnemySpawner.EnemySpawner","UnityEngine.MonoBehaviour","UnityEngine.Behaviour","UnityEngine.Component","UnityEngine.Object","@com.genies.scripting@1.6.0\\Runtime\\Typing\\index.d.System.Object"],"Properties":[{"Path":"playerController","Name":"playerController","TypeName":"@assets/Experience/GeniesScripts/PlayerController.PlayerController","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":true,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Player
    Controller"},{"Path":"enemyPrefab","Name":"enemyPrefab","TypeName":"UnityEngine.GameObject","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"Header","Args":["\"Enemies
    Spawner Settings\""]},{"Type":"SerializeField","Args":[]}],"Initializers":[],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Enemy
    Prefab"},{"Path":"globalSpeed","Name":"globalSpeed","TypeName":"System.Single","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":["20"],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Global
    Speed"},{"Path":"xRange","Name":"xRange","TypeName":"System.Single","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":["3"],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"X
    Range"},{"Path":"enemySpawnDelay","Name":"enemySpawnDelay","TypeName":"System.Single","AssemblyName":null,"EnumKeys":[],"EnumValues":[],"IsGeniesBehaviourRef":false,"IsGeniesScriptableObjectRef":false,"Decorators":[{"Type":"SerializeField","Args":[]}],"Initializers":["1"],"ArrayDimension":-1,"IsArray":false,"IsEnum":false,"ArrayElementInitializer":null,"ChildProperties":[],"PrettyName":"Enemy
    Spawn Delay"}],"SupportedUiEvents":0,"DisplayName":"EnemySpawner","name":"EnemySpawner","hideFlags":8}'
